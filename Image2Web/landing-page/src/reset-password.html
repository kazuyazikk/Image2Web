<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description"
    content="Reset your password - Image2Web lets you turn images into beautiful, responsive websites instantly. Designed by SeroTech.">
  <title>Reset Password - IMAGE2WEB</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Poppins:wght@300;400;500;600;700;800&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <style>
    /* Ensure title (logo/brand) is far left and greeting is far right */
    .main-header .header-content {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100%;
    }
    .main-header .header-content .logo { margin-right: auto; }
    .main-header .header-content #user-greeting { margin-left: auto; }
    /* Remove global centering/padding so logo is flush left */
    header.main-header { padding-left: 1; padding-top: 0; }
    .main-header .header-content { margin: 0; max-width: none; }
    
    /* Hide user greeting completely on reset password page */
    #user-greeting { display: none !important; }
    
    /* Position Back to Home button in upper right corner */
    .main-header .header-content nav {
      margin-left: auto;
    }
  </style>
</head>

<body>
  <!-- HEADER -->
  <header class="main-header">
    <div class="header-content">
      <div class="logo">
        <svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg" aria-label="CODE4WEB logo">
          <defs>
            <linearGradient id="c4w-blue" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#38BDF8"/>
              <stop offset="100%" stop-color="#0EA5E9"/>
            </linearGradient>
            <linearGradient id="c4w-violet" x1="1" y1="0" x2="0" y2="1">
              <stop offset="0%" stop-color="#A78BFA"/>
              <stop offset="100%" stop-color="#FB7185"/>
            </linearGradient>
          </defs>
          <rect x="0.5" y="0.5" width="55" height="55" rx="12" fill="#0b1025"/>
          <circle cx="28" cy="28" r="25" fill="url(#c4w-blue)" opacity="0.06"/>
          <circle cx="28" cy="28" r="25" stroke="url(#c4w-violet)" stroke-width="1.5" opacity="0.6"/>
          <path d="M21 18 L13 28 L21 38" stroke="url(#c4w-blue)" stroke-width="3.5" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M35 18 L43 28 L35 38" stroke="url(#c4w-violet)" stroke-width="3.5" stroke-linecap="round" stroke-linejoin="round"/>
          <rect x="24" y="24" width="8" height="8" rx="2" fill="url(#c4w-blue)" opacity="0.95"/>
          <rect x="24" y="24" width="8" height="8" rx="2" fill="url(#c4w-violet)" opacity="0.35"/>
        </svg>
        <div>
          <span class="brand">IMAGE2WEB</span>
          <div class="slogan">Building Tomorrow's Digital Experience</div>
        </div>
      </div>
      <nav>
        <ul id="nav-menu" class="nav-menu-layout">
          <li class="nav-item" id="auth-links"><button class="nav-btn" onclick="window.location.href='index.html'">Back to Home</button></li>
        </ul>
      </nav>
      <div id="user-greeting" style="display: none;">Hi, <span id="user-name"></span></div>
      <button id="nav-toggle" aria-label="Open navigation" aria-expanded="false">&#9776;</button>
    </div>
  </header>

  <!-- MAIN CONTENT -->
  <main class="reset-password-main">
    <div class="reset-password-container">
      <div class="reset-password-card">
        <h1>Reset Password</h1>
        <p class="reset-description">Enter your email address and we'll send you a reset code.</p>
        
        <!-- Email Input for Firebase Reset -->
        <div id="step1" class="reset-step">
          <div class="form-group">
            <label for="forgot-email">Email Address</label>
            <input type="email" id="forgot-email" placeholder="Enter your email" required>
          </div>
          <button type="button" class="reset-btn primary-btn" onclick="sendResetCode()">Send Reset Email</button>
        </div>
        
        <!-- Success/Error Messages -->
        <div id="reset-success" class="success-message" style="display: none;">
          <h3>✅ Success!</h3>
          <p id="success-text">Password reset successful!</p>
        </div>
        <div id="reset-error" class="error-message" style="display: none;">
          <h3>❌ Error</h3>
          <p id="error-text">Something went wrong. Please try again.</p>
        </div>
        
        <div class="reset-links">
          <button type="button" class="reset-btn secondary-btn" onclick="window.location.href='index.html'">Back to Home</button>
        </div>
      </div>
    </div>
  </main>


  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-analytics-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyDA9TT-iCH515H63y-4zJkTJ1tZAOU7m60",
      authDomain: "image2web-1a6c0.firebaseapp.com",
      projectId: "image2web-1a6c0",
      storageBucket: "image2web-1a6c0.appspot.com",
      messagingSenderId: "167811907825",
      appId: "1:167811907825:web:809c410fefc52de3542950",
      measurementId: "G-LF3Y1S5M47"
    };
    firebase.initializeApp(firebaseConfig);
    if (typeof firebase.analytics === 'function') {
      firebase.analytics();
    }

    // Hide user greeting on reset password page
    document.addEventListener('DOMContentLoaded', function() {
      const userGreeting = document.getElementById('user-greeting');
      if (userGreeting) {
        userGreeting.style.display = 'none';
      }
    });

    // Password reset function
    function sendResetCode() {
      const email = document.getElementById('forgot-email').value;
      if (!email) {
        showError('Please enter your email address.');
        return;
      }

      firebase.auth().sendPasswordResetEmail(email)
        .then(() => {
          showSuccess('Password reset email sent! Check your inbox.');
        })
        .catch((error) => {
          showError('Error: ' + error.message);
        });
    }

    function showSuccess(message) {
      document.getElementById('success-text').textContent = message;
      document.getElementById('reset-success').style.display = 'block';
      document.getElementById('reset-error').style.display = 'none';
    }

    function showError(message) {
      document.getElementById('error-text').textContent = message;
      document.getElementById('reset-error').style.display = 'block';
      document.getElementById('reset-success').style.display = 'none';
    }
  </script>
  <script src="reset-password.js"></script>
</body>

</html>

